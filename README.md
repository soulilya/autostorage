# Autostorage API

Проект веб-сервиса Автосклад.
Основан на библиотеке ReactPHP HTTP

## Установка

### Конфигурация:

В файле:
```
.env
```
Заполните поля (пример):
```
DB_NAME=autostorage
DB_USER=postgres
DB_PASS=postgres
DB_HOST=localhost
DB_DRIVER=pdo_pgsql
DB_PORT=5533
JWT_KEY=3d7fb4673c4db8b33353dffc0f5de0a8797986f770a2c963f270e01028151b84
```
***DB_PORT*** - порт базы данных <br>
***DB_USER*** - пользователь базы данных для подключения <br>
***DB_PASS*** - пароль пользователя для подключения <br>
***DB_NAME*** - имя базы <br>
***JWT_KEY*** - секретный ключ JWT

секретный ключ можно сгенерировать командой 
```
php gen_key.php
```
из корня проекта

## База данных
Восстановите дамп из файла в корне приложения

```
pgsql -U DB_USER -d DB_NAME < dump-autostorage-202008141326.sql
```

## Установка библиотек
Из корвевой папки проекта запустите:
```
composer install
```
## Запуск
Из корневой папки проекта запустите:
```
php main.php
```
Сервер доступен по адресу: <http://localhost:8000>

## Доступ пользователей
Администратор: login: admin pass:123456  
Менеджер: login: manager pass:123456  
Кладовщик: login: storekeeper pass:123456

Для информации по операциям смотрите папку Form

Для использования кеша небходимо добавить параметр cache=1 к GET запросу 


